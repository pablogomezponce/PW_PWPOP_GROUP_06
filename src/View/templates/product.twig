

<div id="producte{{ idProducte }}" class="card"  style="display:table; min-width: 100%" >

    <div id="fotoP" style="display: table-cell;vertical-align: middle; width: 300px" >
        <img src="{{ base_url() }}/assets/wallapop.jpg"  width="300px">
        <div id="likeP" align="right" style="margin-right: 10%">
            {% if idProducte is not null %}
            <img id="{{ idProducte }}" src="{{ base_url() }}/assets/cor_normal.png" width="10%">
            {% endif %}
        </div>
    </div>


    <div id ="infoP" style="display:grid;grid-template-rows: 20% 60% 10%;height: 207.75px">
        <h2>{{ nomProducte }}</h2>
        <p style="overflow-y: scroll ;overflow-x: hidden">{{ descripcioProducte }}</p>
        <div style="display:inline-grid; grid-template-rows:inherit ">
            <a align="left" href="product?idProducte={{ idProducte }}">See more...</a>
            <h2 align="right" style="margin-right: 5%">{{ preuProducte }}â‚¬</h2>
        </div>

    </div>

</div>
<script>

    {% if idProducte is not null %}
        $("#{{ idProducte }}").click(function (ev) {
            {% if idUser is null %}
                alert("You have to log in to be able to like products :)");
            {% else %}
             $.ajax({
                    type: "POST",
                    url: "/heartPressed",
                    dataType: 'json',
                    data: ({idProducte: ev.target.id, idUser: '{{ idUser }}' }),
                    success: function (data) {
                        console.log(data);

                        if (data[0]){
                            $("#{{ idProducte }}").attr("src","{{ base_url() }}/assets/cor_normal.png");
                            isLike = false;
                        }else{
                            $("#{{ idProducte }}").attr("src","{{ base_url() }}/assets/cor_like.png");
                            isLike = true;
                        }
                    },
                    fail: function (data) {
                        console.log(data);
                    }

                });
            {% endif %}
        });
    {% endif %}






</script>

